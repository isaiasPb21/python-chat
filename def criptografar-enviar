
def enviarMensagens():
   
   # Mostrando na tela
   listB.insert(END, 'Eu : '+ mensagem.get())

   # Identifica o nome a ser enviado
   nomeEnvio = '123'
   nomeEnvio += nome.get() # Referencia a uma Entry/tkinter  
   
   ip = '192.168.xx.xx'
   port = 2121
   add = (ip, port)
   
   clientSocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
   clientSocket.connect(add)
   
    def cifra(x):
        preCodificadoEnvio = []             # É necessário pré codificar antes de codificar 
        codificadoRsaEnvio = []             # Armazena os objetos pré codificados
        codificadoRsaStringEnvio = []       # Armazena os objetos codificados

        # Pré cifragem
        for i in x:
            aux3 = alfabeto.index(i) * 10
            preCodificadoEnvio.append(aux3)

        # Cifragem
        for i in preCodificadoEnvio:
            aux4 = (i ** chaveE) % chaveN
            codificadoRsaEnvio.append(aux4)

        # Int para String -- Para envio
        for i in codificadoRsaEnvio:
            aux5 = str(i)
            codificadoRsaStringEnvio.append(aux5)  

        # Junta os caracteres em uma string
        codificadoRsaEnvio = '_'.join(codificadoRsaStringEnvio)

    codificadoRsaEnvio = '_'.join(codificadoRsaStringEnvio)    
   
   clientSocket.sendto(codificadoRsaEnvio.encode(), (ip, port))
   mensagem.delete(0, END)
   clientSocket.close()   

